# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

## æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ãƒ¦ãƒ¼ã‚¶ãƒ¼                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AWS Amplify Hosting                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Vite + React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³                                â”‚   â”‚
â”‚  â”‚  - Cognitoèªè¨¼ (ãƒ¡ãƒ¼ãƒ«+ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰)                            â”‚   â”‚
â”‚  â”‚  - ãƒãƒ£ãƒƒãƒˆUI (SSEã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ)                         â”‚   â”‚
â”‚  â”‚  - Tailwind CSS v4 + @tailwindcss/typography                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ JWT Token (Cognito access_token)
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Bedrock AgentCore Runtime                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Strands Agent (BedrockAgentCoreApp + Docker ARM64)          â”‚   â”‚
â”‚  â”‚  - Claude Sonnet 4.5 (Cross-Region Inference)                â”‚   â”‚
â”‚  â”‚  - SSEã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”                                      â”‚   â”‚
â”‚  â”‚  - AgentCore Memory (çŸ­æœŸè¨˜æ†¶)                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚         â–¼                â–¼                â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ Tavily    â”‚    â”‚ Bedrock   â”‚    â”‚re-invent  â”‚                  â”‚
â”‚  â”‚ MCP       â”‚    â”‚ KB        â”‚    â”‚-2025-mcp  â”‚                  â”‚
â”‚  â”‚(ãƒªãƒ¢ãƒ¼ãƒˆ)  â”‚    â”‚(retrieve) â”‚    â”‚(stdio)    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CloudWatch GenAI Observability                          â”‚
â”‚  - ãƒˆãƒ¬ãƒ¼ã‚¹ï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œãƒ•ãƒ­ãƒ¼ï¼‰                                 â”‚
â”‚  - ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã€ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ï¼‰                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ãƒªãƒ¼ã‚¸ãƒ§ãƒ³

**ã™ã¹ã¦ us-west-2 (ã‚ªãƒ¬ã‚´ãƒ³) ã«çµ±ä¸€**

## èªè¨¼ãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹
2. Amplify UI Authenticator ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³ç”»é¢ã‚’è¡¨ç¤º
3. ãƒ¡ãƒ¼ãƒ«+ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³/ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
4. Cognito ã‹ã‚‰ JWT (access_token) ã‚’å–å¾—
5. AgentCore Runtime ã« `Authorization: Bearer <token>` ã§èªè¨¼

## ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆconvert_eventé–¢æ•°ï¼‰

Strands Agentsã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‘ã‘JSONå½¢å¼ã«å¤‰æ›ï¼š

```python
def convert_event(event) -> dict | None:
    # Bedrock APIå½¢å¼: event.event.contentBlockDelta.delta.text
    if event.get('event'):
        inner_event = event.get('event')
        if inner_event.get('contentBlockDelta'):
            delta = inner_event['contentBlockDelta'].get('delta', {})
            if delta.get('text'):
                return {'type': 'text', 'data': delta['text']}
        if inner_event.get('contentBlockStart'):
            start = inner_event['contentBlockStart'].get('start', {})
            if start.get('toolUse'):
                return {'type': 'tool_use', 'tool_name': start['toolUse'].get('name')}
    return None
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆSSEå‡¦ç†ï¼‰

```typescript
// ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦å‡¦ç†
if (event.type === 'tool_use') {
  // ãƒ„ãƒ¼ãƒ«ä½¿ç”¨ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
  const displayName = TOOL_DISPLAY_NAMES[event.tool_name] || event.tool_name
}
if (event.type === 'text' && event.data) {
  // ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒãƒƒãƒ•ã‚¡ã«è¿½åŠ 
  currentBuffer += event.data
}
```

## ç’°å¢ƒå¤‰æ•°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆAgentCoreç’°å¢ƒå¤‰æ•°ï¼‰

| å¤‰æ•°å | èª¬æ˜ |
|--------|------|
| TAVILY_API_KEY | Tavily APIã‚­ãƒ¼ |
| KNOWLEDGE_BASE_ID | BedrockãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ ID |
| MEMORY_ID | AgentCore Memory ID |

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ.env.localï¼‰

| å¤‰æ•°å | èª¬æ˜ |
|--------|------|
| VITE_USER_POOL_ID | Cognito User Pool ID |
| VITE_USER_POOL_CLIENT_ID | Cognito App Client ID |
| VITE_AGENT_RUNTIME_ARN | AgentCore Runtime ARN |
| VITE_AWS_REGION | AWSãƒªãƒ¼ã‚¸ãƒ§ãƒ³ |

## å®Ÿè£…çŠ¶æ³

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | çŠ¶æ…‹ | å‚™è€ƒ |
|---------------|------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | âœ… å®Œäº† | Vite + React + Tailwind CSS v4 |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | âœ… å®Œäº† | Strands Agent + BedrockAgentCoreApp |
| Cognitoèªè¨¼ | âœ… å®Œäº† | JWTèªè¨¼ï¼ˆaccess_tokenï¼‰ |
| ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ | âœ… å®Œäº† | ID: RT8AH7FKCS |
| AgentCore Memory | âœ… å®Œäº† | ID: reinvent2025-My6hDB5l3L |
| AgentCore Runtime | âœ… å®Œäº† | ID: reinvent-S3AJ2uCrco |
| Amplify Hosting | âœ… å®Œäº† | è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šæ¸ˆã¿ |
| ãƒ„ãƒ¼ãƒ«ä½¿ç”¨UX | ğŸ”„ å®Ÿè£…ä¸­ | ãƒ„ãƒ¼ãƒ«åè¡¨ç¤ºå¯¾å¿œä¸­ |
